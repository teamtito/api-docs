# Opt-Ins

<%= beta_feature "Opt-ins" %>

## Attributes

<%= partial "includes/shared/attributes", locals: { attributes: data.opt_ins.attributes } %>

## Get all Opt-Ins

<%= partial "includes/requests/get",
  locals: {
    url: "#{config[:api_endpoint]}/:account_slug/:event_slug/opt_ins"
  }
%>
<%= partial "includes/admin_api/3.0/opt_ins/index.json" %>

Retrieves all `Opt-Ins` for the given `Event`.

`<%= "GET #{config[:api_endpoint]}/:account_slug/:event_slug/opt_ins" %>`

* `account_slug` - The `slug` attribute of an `Account`.
* `event_slug` - The `slug` attribute of an `Event`.


## Get an Opt-In

<%= partial "includes/requests/get",
  locals: {
    url: "#{config[:api_endpoint]}/:account_slug/:event_slug/opt_ins/:opt_in_slug"
  }
%>
<%= partial "includes/admin_api/3.0/opt_ins/show.json" %>

Retrieves an `Opt-In` for the given `Event`.

`GET <%= "#{config[:api_endpoint]}/:account_slug/:event_slug/opt_in/:opt_in_slug" %>`

* `account_slug` - The `slug` attribute of an `Account`.
* `event_slug` - The `slug` attribute of an `Event`.
* `opt_in_slug` - The `slug` attribute of an `Opt-In`.


## Create an Opt-In

<%= partial "includes/requests/post",
  locals: {
    url: "#{config[:api_endpoint]}/:account_slug/:event_slug/opt_ins",
    parameters: {
      opt_in: {
        name: "Do you consent to us storing your data?",
        release_ids: [1234567]
      }
    }
  }
%>
<%= partial "includes/admin_api/3.0/opt_ins/create.json" %>

Create a new `Opt-In` belonging to the given `Event`.

`POST <%= "#{config[:api_endpoint]}/:account_slug/:event_slug/opt_ins" %>`

* `account_slug` - The `slug` attribute of an `Account`.
* `event_slug` - The `slug` attribute of an `Event`.

### Parameters

<%= partial "includes/shared/parameters", locals: { parameters: data.opt_ins.attributes.reject { |name,attribute| attribute["read_only"] } } %>

## Update an Opt-In

<%= partial "includes/requests/patch",
  locals: {
    url: "#{config[:api_endpoint]}/:account_slug/:event_slug/opt_ins/:opt_in_slug",
    parameters: {
      opt_in: {
        "name": "My new name"
      }
    }
  }
%>
<%= partial "includes/admin_api/3.0/opt_ins/update.json" %>

Update an `Opt-In` belonging to the given `Event`.

`PATCH <%= "#{config[:api_endpoint]}/:account_slug/:event_slug/opt_ins/:opt_in_slug" %>`

* `account_slug` - The `slug` attribute of an `Account`.
* `event_slug` - The `slug` attribute of an `Event`.
* `opt_in_slug` - The `slug` attribute of an `Opt-In`.

### Parameters

<%= partial "includes/shared/parameters", locals: { parameters: data.opt_ins.attributes.reject { |name,attribute| attribute["read_only"] } } %>

## Delete an Opt-In

<%= partial "includes/requests/delete",
  locals: {
    url: "#{config[:api_endpoint]}/:account_slug/:event_slug/opt_ins/:opt_in_slug",
  }
%>

Delete an `Opt-In` belonging to the given `Event`.

`DELETE <%= "#{config[:api_endpoint]}/:account_slug/:event_slug/opt_ins/:opt_in_slug" %>`

* `account_slug` - The `slug` attribute of an `Account`.
* `event_slug` - The `slug` attribute of an `Event`.
* `opt_in_slug` - The `slug` attribute of an `Opt-In`.
